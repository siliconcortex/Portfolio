{% extends 'main_app/base.html' %}
{% block content %}

  <!-- note that the name 'post_list' was automatically generated by django when
  we inserted Post model into the ListView -->
<h1 class='display-4'>Posts</h1>

<hr class="my-4">
  <div class="d-flex flex-wrap">
    {% for post in posts_list %}
    <div class="card m-4" style="width: 18rem;">
      <!-- thumbnail is an attribute of the post model -->
      {% if post.thumbnail %}
      <img src="{{ post.thumbnail.url }}" class="card-img-top" alt="post thumbnail">
      {% endif %}
      <div class="card-body">
        <h5 class="card-title"> {{ post.title}} </h5>
        <p class="card-text"> {{ post.content|truncatechars:100|safe }}</p>
        <a href="{% url 'post_detail' pk=post.pk %}" class="btn btn-primary">Read More</a>
      </div>
    </div>
    {% endfor %}
  </div>

{% endblock %}
